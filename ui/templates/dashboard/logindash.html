<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Login Form</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <script defer src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

    <link rel="stylesheet" href="./css/style.css">
</head>

<body class="bodyLogin">
    

    <div class="container d-flex justify-content-center align-items-center min-vh-100">
        <div class="col-lg-3 col-md-6 col-sm-4 col-12">
            <div class="card shadow-lg">
                <div class="card-body">
                    <!-- Logo Section -->
                    <div class="text-center mb-4">
                        <img src="../air quality prediction.svg" alt="Logo" class="img-fluid" style="max-width: 120px;">
                    </div>
    
                    <!-- Login Title -->
                    <h3 class="card-title text-center mb-4">Login</h3>
    
                    <form id="loginForm" novalidate>
                        <!-- Email or Username -->
                        <div class="form-floating mb-3">
                            <input type="text" id="usernameOrEmail" class="form-control"
                                placeholder="Enter your email or username" required
                                pattern="^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$|^[a-zA-Z0-9._-]{3,20}$"
                                title="Must be a valid email or username (3-20 characters)">
                            <label for="usernameOrEmail">Email or Username</label>
                            <div class="invalid-feedback">Please enter a valid email or username.</div>
                        </div>
    
                        <!-- Password -->
                        <div class="form-floating mb-3">
                            <input type="password" id="password" class="form-control" placeholder="Enter your password"
                                required minlength="6" maxlength="30" title="Password must be 6-30 characters long.">
                            <label for="password">Password</label>
                            <div class="invalid-feedback">Password must be 6-30 characters long.</div>
                        </div>
    
                        <!-- Submit Button -->
                        <div class="d-grid">
                            <button type="submit" class="btn btn-primary">Login</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>




    <script>
        document.getElementById('loginForm').addEventListener('submit', function (event) {
            event.preventDefault();

            // Get form inputs
            const emailOrUsername = document.getElementById('usernameOrEmail');
            const password = document.getElementById('password');
            let isValid = true;

            // Validate Email or Username
            const emailOrUsernamePattern = /^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$|^[a-zA-Z0-9._-]{3,20}$/;
            if (!emailOrUsernamePattern.test(emailOrUsername.value)) {
                emailOrUsername.classList.add('is-invalid');
                isValid = false;
            } else {
                emailOrUsername.classList.remove('is-invalid');
            }

            // Validate Password
            const passwordPattern = /^[^\s'";]+$/; // Prevents SQL injection-like inputs
            if (password.value.length < 6 || password.value.length > 30 || !passwordPattern.test(password.value)) {
                password.classList.add('is-invalid');
                isValid = false;
            } else {
                password.classList.remove('is-invalid');
            }

            // If form is valid, submit
            if (isValid) {
                alert('Form submitted successfully!');
                // Submit the form (e.g., via AJAX or traditional submission)
            }
        });
    </script>
</body>

</html>